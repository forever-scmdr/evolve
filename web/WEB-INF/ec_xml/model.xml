<?xml version="1.0" encoding="UTF-8"?>
<model>


	<item name="product_container" virtual="true" caption="Контейнер для продуктов" />


	<item name="catalog" caption="Каталог продукции" super="product_container" children-per-page="10" children-sorting="DESC">
		<child item="section" />
		<parameter name="integration" type="file" caption="XML файл интеграции" description="используемые классы и параметры должны быть созданы до начала разбора файла" />
		<parameter name="date" type="date" caption="Дата обновления каталога" format=""/>
	</item>


	<item name="section" default-page="section" key="name" caption="Раздел" super="product_container" key-unique="true">
		<child item="parse_item" />
		<child item="section" />
		<parameter name="name" type="string" caption="Название" description="раздела" />
		<parameter name="code" type="string" caption="Уникальный код" description="можно часть урла" />
		<parameter name="short" type="short-text" caption="Краткое описание" />
	</item>


	<item name="back_section" key="name" caption="Невидимый раздел">
		<parameter name="name" type="string" caption="Название" description="раздела" />
		<child item="product" />
	</item>

	<item name="back_catalog" caption="Невидимый каталог">
		<child item="back_section"/>
	</item>


	<item name="product" key="name mark" caption="Продукт" extendable="true" key-unique="true">
		<parameter name="name" type="string" caption="Наименование" description="продукта" text-index="fulltext" />
		<parameter name="code" type="string" caption="Артикул" description="продукта" text-index="fulltext" />
		<parameter name="price" type="double" caption="Цена"/>
		<parameter name="short" type="tiny-text" caption="Краткое описание" text-index="fulltext" />
		<parameter name="text" type="text" caption="Полное описание" text-index="fulltext" />
		<parameter name="tech" type="text" caption="Технические характеристики" description="в виде таблицы для вывода" />
		<parameter name="apply" type="text" caption="Применение" description="текст" />
		<parameter name="go_with" type="string" caption="Сопутствующий товар" description="список артикулов" multiple="true"/>
		<child item="tag_first"/>
	</item>

	<item name="tag_first" caption="Тэг первого уровня" key="tag">
		<parameter name="tag" caption="Тэг" type="string"/>
		<child item="tag_second"/>
	</item>

	<item name="tag_second" caption="Тэг второго уровня" key="name_value">
		<parameter name="name" caption="Название тэга" type="string"/>
		<parameter name="value" caption="Значение тэга" type="string"/>
		<parameter name="name_value" caption="Тэг" description="сам тэг для поиска"/>
	</item>

	<item name="parse_item">
		<parameter name="url" type="string" caption="URL"/>
		<parameter name="downloaded" type="byte" caption="Downloaded"/>
		<parameter name="parsed" type="byte" caption="Parsed"/>
		<parameter name="got_files" type="byte" caption="Files downloaded"/>
		<parameter name="html" type="plain-text" caption="HTML" description="полученный с сервера"/>
		<parameter name="xml" type="plain-text" caption="XML" description="после обработки xsl"/>
		<parameter name="file" type="file" caption="Файл" description="скачанный файл" multiple="true"/>
	</item>

	<root>
		<child item="catalog" single="true" />
		<child item="back_catalog" single="true" />
	</root>


<!--EXP-->
</model>