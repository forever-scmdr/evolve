<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE stylesheet [<!ENTITY nbsp "&#160;"><!ENTITY copy "&#x000A9;" >]><xsl:stylesheet		xmlns:xsl="http://www.w3.org/1999/XSL/Transform"		xmlns="http://www.w3.org/1999/xhtml"		xmlns:f="f:f"		version="2.0">	<xsl:output method="html" encoding="UTF-8" media-type="text/html" indent="yes" omit-xml-declaration="yes" exclude-result-prefixes="#all"/>	<xsl:variable name="message" select="page/variables/message"/>	<xsl:variable name="success" select="page/variables/result = 'success'"/>	<xsl:variable name="form" select="page/comment_form"/>	<xsl:template match="/">		<xsl:call-template name="COMMENTS"/>		<div class="respond result" id="modal-feedback" ajax-href="{page/feedback_form_link}" show-loader="yes">			<xsl:if test="$message">				<div id="tmpdiv" style="padding: 1rem 2rem; border: 1px solid {if($success) then 'rgb(86, 196, 147)' else 'red'}; background: {if($success) then 'rgb(215, 243, 230)' else 'rgba(255,0,0,.15)'};">					<xsl:value-of select="$message"/>					<script type="text/javascript">						setTimeout(function () {							var element = document. getElementById("tmpdiv");							element. parentNode. removeChild(element);						},7500);					</script>				</div>			</xsl:if>			<h3 id="reply-name" class="h2">Написать комментарий</h3>			<form action="{page/submit_link}" method="post" ajax="true" ajax-loader-id="modal-feedback">				<fieldset>					<input type="hidden" name="id" id="reply-to" value="{page/variables/id}"/>					<div class="form-field">						<input name="{$form/input/name/@input}" value="{$form/input/name}" type="text" class="full-width" placeholder="Ваше имя"/>					</div>					<div class="form-field">						<input type="text" name="{$form/input/email/@input}" value="{$form/input/email}" class="full-width" placeholder="Email"/>					</div>					<div class="form-field required">						<input type="text" name="phone" value="" class="full-width" placeholder="Телефон"/>					</div>					<div class="message form-field">						<textarea class="full-width" name="{$form/input/text/@input}" placeholder="Текст комментария">							<xsl:value-of select="$form/input/text"/>						</textarea>					</div>				</fieldset>				<input type="submit" class="submit btn--primary btn--large full-width" value="Отправить"/>			</form>		</div>	</xsl:template>	<xsl:template name="COMMENTS">		<ol class="commentlist result" id="comment-{/page/comments/@id}">			<xsl:for-each select="/page/comments/comment">				<xsl:call-template name="COMMENT">					<xsl:with-param name="comment" select="."/>					<xsl:with-param name="level" select="1"/>				</xsl:call-template>			</xsl:for-each>		</ol>	</xsl:template>	<xsl:template name="COMMENT">		<xsl:param name="comment"/>		<xsl:param name="level"/>		<li class="{'thread-alt '[$level = 0]}depth-{$level+1} comment">			<div class="comment__content">				<cite id="nm-{$comment/@id}"><xsl:value-of select="$comment/name"/></cite>				<div class="comment__meta">					<time class="comment__time"><xsl:value-of select="$comment/date"/></time>					<a class="reply" href="{$comment/@id}">Ответить</a>				</div>				<div class="comment__text">					<xsl:value-of select="$comment/text" disable-output-escaping="yes"/>				</div>				<xsl:if test="$comment/comment">					<ul class="children">						<xsl:for-each select="$comment/comment">							<xsl:call-template name="COMMENT">								<xsl:with-param name="comment" select="."/>								<xsl:with-param name="level" select="$level+1" />							</xsl:call-template>						</xsl:for-each>					</ul>				</xsl:if>			</div>		</li>	</xsl:template></xsl:stylesheet>