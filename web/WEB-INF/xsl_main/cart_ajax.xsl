<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE stylesheet [<!ENTITY nbsp "&#160;"><!ENTITY copy "&#x000A9;" >]><xsl:stylesheet		xmlns:xsl="http://www.w3.org/1999/XSL/Transform"		xmlns:f="f:f"		version="2.0">	<xsl:import href="utils/utils.xsl"/>	<xsl:import href="snippets/constants.xsl"/>	<xsl:output method="html" encoding="UTF-8" media-type="text/xhtml" indent="yes" omit-xml-declaration="yes"/>	<xsl:variable name="cart" select="page/cart"/>	<xsl:template match="/">		<xsl:if test="$cart and (not($cart/processed) or $cart/processed != 1) and $cart/bought">			<div class="result" id="cart_ajax">				<div class="header-icon__icon">					<img src="img/icon-cart.png" alt=""/>					<div class="header-icon__counter"><xsl:value-of select="count($cart/bought)"/></div>				</div>				<div class="header-icon__info">					<a href="{page/cart_link}">Корзина</a>					<xsl:if test="f:num($cart/sum) &gt; 0">						<span><xsl:value-of select="f:currency_decimal($cart/sum)"/></span>					</xsl:if>					<xsl:if test="f:num($cart/sum) = 0">						<span>Сумма по запросу</span>					</xsl:if>					<a href="{page/cart_link}" class="header-icon__dd">						<img src="img/icon-caret-down-small.png" alt=""/>					</a>				</div>				<div class="dd-cart">					<div class="dd-cart__scroll">						<xsl:for-each select="$cart/bought">							<xsl:variable name="p" select="product"/>							<div class="dd-cart__item">								<a class="dd-cart__image" href="">									<img src="sitepics/{$p/pic_path}.jpg" alt=""/>								</a>								<div class="dd-cart__info">									<a class="dd-cart__name" href=""><xsl:value-of select="string-join(($p/name, $p/name_extra), ' ')"/></a>									<div class="dd-cart__code">Кол-во: <xsl:value-of select="concat(qty, $p/unit, ' ')"/></div>									<div class="ddcart__price"><xsl:value-of select="sum"/> руб.</div>								</div>								<a class="dd-cart__close" href="{delete}" ajax="true">									<img src="img/icon-close.png" alt=""/>								</a>							</div>						</xsl:for-each>					</div>					<a class="dd-cart__button" href="{page/show_cart}">Перейти в корзину</a>				</div>			</div>			<xsl:for-each select="$cart/bought">				<div class="result" id="cart_list_{product/@id}">					<form>						<button class="button button_checkout" type="submit" onclick="location.replace('{//page/show_cart}'); return false"><xsl:value-of select="$go_to_cart_label"/></button><!--						<input type="submit" value="{$go_to_cart_label}" class="button to_cart" onclick="location.replace('{//page/show_cart}'); return false"/>-->					</form>				</div>				<span id="sum-{code}" class="result">					<xsl:value-of select="if(f:num(product/price) != 0) then concat(f:currency_decimal(sum), ' pуб.') else ''"/>				</span>			</xsl:for-each>		</xsl:if>		<xsl:if test="not($cart) or $cart/processed = 1 or not($cart/bought)">			<div class="result" id="cart_ajax">				<div class="header-icon__icon">					<img src="img/icon-cart.png" alt=""/>				</div>				<div class="header-icon__info">					<a>Корзина пуста</a>				</div>			</div>		</xsl:if><!--		<xsl:if test="f:num($cart/sum) != 0">-->			<div class="cart-total__text result" id="cart-total">				<xsl:value-of select="concat('Итого: ', f:currency_decimal($cart/sum), ' руб.')" />			</div><!--		</xsl:if>-->	</xsl:template></xsl:stylesheet>