<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE stylesheet [<!ENTITY nbsp "&#160;"><!ENTITY copy "&#x000A9;" >]><xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:f="f:f" version="2.0">	<xsl:import href="utils/utils.xsl"/>	<xsl:output method="html" encoding="UTF-8" media-type="text/html" indent="yes" omit-xml-declaration="yes" exclude-result-prefixes="#all"/>	<!-- –í–û–ó–ú–û–ñ–ù–´–ï –ó–ù–ê–ß–ï–ù–ò–Ø -->	<!--		name_updated - –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º	-->	<xsl:variable name="result" select="page/variables/result"/>	<xsl:variable name="bom" select="page/bom_list"/>	<xsl:template match="/">		<xsl:if test="$result = 'name_updated'">			<tr class="result" id="bl_main_{$bom/@id}">				<td><input type="checkbox" class="check_all" name="bom" value="{$bom/@id}"/></td>				<td><a href="#" style="font-size: larger" onclick="$('.hide_{$bom/@id}').toggle(); return false;">‚ûï</a></td>				<td>					<form method="post" action="page/validate_bom_link" id="bl_search_{$bom/@id}" style="display: none" class="search_repeat">						<textarea name="q">							<xsl:for-each select="$bom/line">								<xsl:value-of select="@key"/><xsl:text> </xsl:text><xsl:value-of select="@value"/><xsl:text>&#xa;</xsl:text>							</xsl:for-each>						</textarea>					</form>					<form action="{$bom/edit_name}" method="post" class="name_update"></form>					<a href="#" style="font-size: larger; display: none" class="edit_line" onclick="submitName(this); return false" onmouseover="noHide = true;" onmouseleave="noHide = false;">‚úé</a>				</td>				<td onclick="showInputs(this)">					<span><xsl:value-of select="$bom/name" /></span>					<input name="name" type="text" value="{$bom/name}" style="width: 100%; display: none" onblur="hideInputs(this)" onfocusout="hideInputs(this)"/>				</td>				<td><xsl:value-of select="count($bom/line)" /></td>				<td onclick="showInputs(this)">					<span><xsl:value-of select="$bom/description" /></span>					<input name="desc" type="text" value="{$bom/description}" style="width: 100%; display: none" onblur="hideInputs(this)" onfocusout="hideInputs(this)"/>				</td>				<td>					<a href="#" class="button" style="padding: 2px 16px; font-weight: normal; margin-right: 10px;" onclick="repeatSearch('#bl_search_{$bom/@id}'); return false">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–∏—Å–∫</a>					<a href="#" class="confirm-dialog" onclick="confirmLink('{$bom/delete_bom}', this); return false;">‚ùå</a>				</td>			</tr>		</xsl:if>		<xsl:if test="$result = 'list_updated'">			<div class="result" id="bl_lines_{$bom/@id}">				<table style="margin-bottom: -9px">					<xsl:for-each select="$bom/line">						<tr>							<td width="10px"><input name="name" type="checkbox" value="{.}"></input></td>							<td width="20px"></td>							<td width="40%"><xsl:value-of select="@key" /></td>							<td width="40px"><xsl:value-of select="@value" /></td>							<td width="30px"><a href="#" onclick="confirmAjax('{f:var_into_url(../delete_line, 'name', .)}', this); return false;" class="confirm-dialog">üóô</a></td>							<td colspan="3"></td>						</tr>					</xsl:for-each>					<tr>						<td></td>						<td></td>						<td colspan="2">							<form action="{$bom/add_line}" id="bl_add_{$bom/@id}" method="post" ajax="true" ajax-loader-id="bl_add_{$bom/@id}">								<input name="name" style="width: 90%; border: #b0b0b0 solid 1px;"/>								<input name="qty" type="number" min="1" style="width: 10%; border: #b0b0b0 solid 1px;"/>							</form>							<form action="{$bom/delete_line}" id="bl_delete_{$bom/@id}" ajax="true" ajax-loader-id="bl_lines_{$bom/@id}"/>						</td>						<td><a href="#" onclick="$('#bl_add_{$bom/@id}').submit(); return false;" class="button" style="padding: 1px 16px;">+</a></td>						<td colspan="3"></td>					</tr>				</table>			</div>		</xsl:if>	</xsl:template></xsl:stylesheet>