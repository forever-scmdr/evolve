Работа с файлом model.xml

Файл model.xml как и раньше определяет модель данных. ВСЯ информация о модели хранится в нем.
Для того, чтобы не было рассогласованности данных в БД и файла model.xml (которая может возникнуть при использовании
файла model.xml от другого сайта, например, или более старой версии файла model.xml с более новыми данными), текст
файла model.xml также хранится в БД. Соответственно при создании резервной копии БД сайта model.xml фактически
сохраняется вместе с данными.

Для дополнительной безопасности вводятся два дополнительных атрибута элемента model - ag-version и ag-site.
ag-site - UID сайта (надо найти библиотеку для генерации UID)
ag-version - версия редакции model.xml
Оба атрибута устанавливаются автоматически по аналогии с ag-id и ag-hash. ag-site устанавливатеся при первом создании
базы данных сайта и впоследствии никогда не меняется. ag-version устанавливается при изменении модели данных
(добавлени новых айтемов, удалении старых и т.п.)
Оба атрибуда дописываются в model.xml

Алгоритм работы сайта:
1.  Сайт стартует и загружает model.xml из БД.
	Если model.xml в БД нет, то загружается из файла и сохраняется в БД. Присваивается ag-site и ag-version=1
	Если model.xml есть в БД, но нет аткого файла, то файл создается и в него копируется содержимое из БД.
2.  Если модель уже есть в БД, то для внесения изменений в нее из файла model.xml надо запустить meta?q=create_model
3.  Запускается тестовый режим загрузки из файла.
4.  Сравниваются атрибуты ag-site и ag-version, если они не совпадают с записанными в БД, то выдаестя ошибка.
5.  Если в тестовом режиме обнаружено удаление айтемов, ассоциаций или параметров, об этом выдается сообщение и
	предлагается выполнить команду meta?q=force_model. Одновременно устаналвивается флаг о том, что система готова
	к выполнению force_model (чтобы нельзя было выполнить force_model сразу без create_model).
6.  Если в тестовом режиме не обнаружено удаление или выполнена подготовленная команда force_model, то обновляется
    модель данных, добавляются ag-атрибуты в model.xml и содержимое	файла model.xml переписывается в БД.